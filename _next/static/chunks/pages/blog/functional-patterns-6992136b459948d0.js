(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{17257:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/functional-patterns",function(){return s(88085)}])},88085:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return c},meta:function(){return a}});var t=s(85893),r=s(11151),o=s(47439);let a={path:"/blog/functional-patterns",title:"Functional Programming Patterns",date:"2019-06-25T00:00:00.000Z",type:"post",description:"Few months ago,  Kyle Shevlin did a great course on egghead, followed by a series of articles, about some basic concepts of functional programming in JavaScript. As an adept of this very popular paradigm, I found that even very basics, I'm not using all of them on a daily basis. So, here is **a quick recap of how cool those patterns are** and how they can help you improve your functional code."},i=e=>{let{children:n}=e;return(0,t.jsx)(o.Z,{meta:a,children:n})};function l(e){let n={a:"a",code:"code",em:"em",h2:"h2",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Few months ago,  ",(0,t.jsx)(n.a,{href:"https://kyleshevlin.com/just-enough-functional-programming-course-launch",children:"Kyle Shevlin"})," did a great course on ",(0,t.jsx)(n.a,{href:"https://egghead.io/courses/just-enough-functional-programming-in-javascript",children:"egghead"}),", followed by a series of ",(0,t.jsx)(n.a,{href:"https://kyleshevlin.com/just-enough-functional-programming-course-launch",children:"articles"}),", about some basic concepts of functional programming in JavaScript. As an adept of this very popular paradigm, I found that even very basics, I'm not using all of them on a daily basis. So, here is ",(0,t.jsx)(n.strong,{children:"a quick recap of how cool those patterns are"})," and how they can help you improve your functional code."]}),"\n",(0,t.jsx)(n.h2,{children:"High order function"}),"\n",(0,t.jsx)(n.p,{children:"“The high order function (HOF) is a function that accepts a function as an argument and returns a new function \uD83D\uDE05” Just read the example, it will directly make more sense to you."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Our high order function\nconst withCountLog = fn => {\n  let count = 0;\n\n  // Returns a new function\n  return (...args) => {\n    console.log(`Called ${++count} times`);\n    return fn(...args);\n  }\n}\n\nconst add = (x, y) => x + y;\nconst countedAdd = withCountLog(add); // binding\n\ncountedAdd(52, 4); // Called 1 times\ncountedAdd(63, 5); // Called 2 times\ncountedAdd(74, 6); // Called 3 times\n"})}),"\n",(0,t.jsx)(n.h2,{children:"Curried function"}),"\n",(0,t.jsx)(n.p,{children:"“A curried function is a higher-order function that returns a series of functions each accepting only one argument and only evaluating once we receive our final argument.”"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const add = x => y => z => x + y + z;\nconsole.log(add(1)(2)(3)); // 6\n"})}),"\n",(0,t.jsxs)(n.p,{children:["OK this example makes no sense at all. Now, if you start using it for ",(0,t.jsx)(n.strong,{children:"splitting your logic"})," into something simpler and more maintainable, it starts to make a lot of sense:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Our curried function\nconst getFromAPI = baseURL => endpoint => cb =>\n  fetch(`${baseURL}${endpoint}`)\n    .then(res => res.json())\n    .then(data => cb(data))\n    .catch(err => new Error(err));\n\n// Main level\nconst getGithub = getFromAPI('https://api.github.com');\n\n// Sub levels\nconst getGithubUsers = getGithub('/users');\nconst getGithubRepos = getGithub('/repositories');\n\ngetGithubUsers(data => console.log(data.map(user => user.login)));\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Finally, the order of arguments are very important. Here we have ",(0,t.jsx)(n.code,{children:"baseURL => endpoint => cb"}),"  for the reason illustrated above. Always remind yourself this simple rule: ",(0,t.jsx)(n.strong,{children:"the order is from most specific to least specific argument"}),"."]}),"\n",(0,t.jsx)(n.h2,{children:"Composition"}),"\n",(0,t.jsxs)(n.p,{children:["This one can have its own article or even a series of articles, but I'm sure there are a lot of great resources out there. ",(0,t.jsxs)(n.strong,{children:["Basically, it's a function used to ",(0,t.jsx)(n.em,{children:"compose"})," other functions in a specific order to return to desired output"]})," ."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Our composition helper\nconst compose = (...fns) => x => \n  fns.reduce((acc, fn) => fn(acc), x);\n\nconst lower = str => str.toLowerCase();\nconst sanitize = str => str.replace(/[^a-z0-9 -]/g, '');\nconst clean = str => str.replace(/\\s+/gm, '-');\n\nconst slugify = compose(\n  lower,\n  sanitize,\n  clean,\n);\n\nconsole.log(slugify('I love $$$ noodles')); // i-love-noodles\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This way is much cleaner and more readable than something like ",(0,t.jsx)(n.code,{children:"clean(sanitize(lower('My string')));"}),", especially with more complex structure. The order is also very important; in this example, put ",(0,t.jsx)(n.code,{children:"sanitize"})," before ",(0,t.jsx)(n.code,{children:"lower"})," and your ",(0,t.jsx)(n.code,{children:"I"})," will simply disappear."]}),"\n",(0,t.jsxs)(n.p,{children:["You can also use the kind-of ",(0,t.jsx)(n.code,{children:".map"})," approach:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Our refactored composition helper\nconst compose = x => ({\n  map: f => compose(f(x)),\n  end: () => x,\n});\n\nconst lower = str => str.toLowerCase();\nconst sanitize = str => str.replace(/[^a-z0-9 -]/g, '');\nconst clean = str => str.replace(/\\s+/gm, '-');\n\nconst slugify = str => compose(str)\n  .map(lower)\n  .map(sanitize)\n  .map(clean)\n  .end();\n\nconsole.log(slugify('I love $$$ noodles')); // i-love-noodles\n"})}),"\n",(0,t.jsx)(n.h2,{children:"Conclusion"}),"\n",(0,t.jsx)(n.p,{children:"As I said, simple concepts, but very helpful to produce any kind of functional code. It will also help you to maintain consistency across your code base if you choose this great paradigm."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"Supported with"})," \uD83D\uDC9B ",(0,t.jsxs)(n.em,{children:["by ",(0,t.jsx)(n.a,{href:"https://antistatique.net",children:"Antistatique"})]})]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})})}},62090:function(e,n,s){"use strict";s.d(n,{Z:function(){return c}});var t=s(85893);s(67294);var r=s(90512),o=s(41664),a=s.n(o),i=s(68658),l=s(81612),c=e=>{let{crumbs:n}=e;return(0,t.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-6 transform md:translate-x-1 md:mb-0",children:(0,t.jsxs)("ol",{className:"inline-flex text-sm text-gray-600 lowercase md:text-lg opacity-60 hover:opacity-100 duration-500 transition-opacity transform md:-translate-x-full md:translate-y-2 md:-rotate-90 md:origin-right",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(a(),{href:"/",className:"link",children:[(0,t.jsx)("span",{className:"sr-only",children:"Homepage"}),(0,t.jsx)(l.Z,{name:"tipi",className:"text-base md:text-lg"})]})}),n.map((e,n)=>{let{href:s,label:o}=e;return(0,i.Z)(s)?(0,t.jsxs)("li",{"aria-current":"page",children:[(0,t.jsx)("span",{className:"px-3","aria-hidden":!0,children:"\xb7"}),(0,t.jsx)("span",{className:(0,r.Z)("inline-block truncate",{maxWidth:250}),children:o})]},"crumb-".concat(n)):(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"px-3","aria-hidden":!0,children:"\xb7"}),(0,t.jsx)(a(),{href:s,className:"link",children:o})]},"crumb-".concat(n))})]})})}},47439:function(e,n,s){"use strict";s.d(n,{Z:function(){return h}});var t=s(85893);s(67294);var r=s(47906),o=s(63595),a=s(62090),i=s(73574),l=s(29454),c=s(53659),d=s(8523),u=s(35045),h=e=>{let{children:n,meta:s}=e;return(0,t.jsxs)(c.Z,{outsideChildren:(0,t.jsx)(d.Z,{}),children:[(0,t.jsx)(u.Z,{title:s.title,description:s.description}),(0,t.jsx)(a.Z,{crumbs:[{href:"/blog",label:"Blog"},{label:s.title}]}),(0,t.jsxs)("article",{className:"w-full mx-auto mt-20 sm:w-10/12 md:w-2/3 xl:w-7/12 md:px-8",children:[(0,t.jsxs)(l.Z,{move:!1,children:[(0,t.jsx)("h1",{className:"text-3xl font-medium text-gray-900 md:text-4xl lg:text-5xl",children:s.title}),(0,t.jsx)(i.Z,{children:(0,t.jsxs)("h2",{className:"font-medium md:text-lg",children:[(0,t.jsx)("span",{children:"Yann Gouffon — "}),(0,r.WU)((0,o.D)(s.date),"PPP")]})})]}),(0,t.jsx)(l.Z,{className:"mt-16 font-serif text-lg text-gray-900 space-y-6 md:mt-14 prose-headings:pt-4 prose-p:leading-[1.618em] lg:text-xl xl:text-2xl xl:prose-p:leading-[1.618em] prose-a:text-blue prose-headings:font-sans prose-headings:font-medium prose-h2:text-[26px] xl:prose-h2:text-[28px] prose-h3:text-[19px] lg:prose-h3:text-[24px] xl:prose-h3:text-[27px] prose-h4:text-[18px] lg:prose-h4:text-[21px] xl:prose-h4:text-[25px] prose-strong:text-medium prose-ul:list-disc prose-ul:pl-3 prose-ul:space-y-3 prose-ul:leading-[1.618em] xl:prose-figure:w-[106%] xl:prose-figure:-translate-x-[2.8%] prose-figure:rounded-lg prose-figure:overflow-hidden prose-figure:my-8",children:n})]})]})}}},function(e){e.O(0,[1635,9757,3880,520,5098,7539,8523,2888,9774,179],function(){return e(e.s=17257)}),_N_E=e.O()}]);