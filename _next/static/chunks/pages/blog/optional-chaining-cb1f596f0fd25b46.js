(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1758],{27364:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/optional-chaining",function(){return t(87230)}])},87230:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c},meta:function(){return r}});var i=t(85893),s=t(11151),a=t(47439);let r={path:"/blog/optional-chaining",title:"Optional Chaining",date:"2019-07-09T00:00:00.000Z",type:"post",description:"It's the future feature of JavaScript that I'm the most excited about: optional chaining. And I'm sure you too without even knowing it. So, what is exactly optional chaining  and how it can really help to produce a cleaner code."},l=e=>{let{children:n}=e;return(0,i.jsx)(a.Z,{meta:r,children:n})};function o(e){let n={a:"a",code:"code",em:"em",h2:"h2",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["It's the future feature of JavaScript that I'm the most excited about: ",(0,i.jsx)(n.a,{href:"https://github.com/tc39/proposal-optional-chaining",children:(0,i.jsx)(n.strong,{children:"optional chaining"})}),". And I'm sure you too without even knowing it. So, what is exactly ",(0,i.jsx)(n.em,{children:"optional chaining"}),"  and how it can really help to produce a cleaner code."]}),"\n",(0,i.jsx)(n.h2,{children:"The proposal"}),"\n",(0,i.jsxs)(n.p,{children:["Two years ago, ",(0,i.jsx)(n.a,{href:"https://github.com/claudepache",children:"Claude Pache"}),", ",(0,i.jsx)(n.a,{href:"https://github.com/gisenberg",children:"Gabriel Isenberg"})," and ",(0,i.jsx)(n.a,{href:"https://github.com/dustinsavery",children:"Dustin Savery"})," proposed ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.a,{href:"https://github.com/tc39/proposal-optional-chaining",children:"optional chaining"})})," to TC39. Their goal is to reduce repetition and/or intermediate assignment in deep property access."]}),"\n",(0,i.jsx)(n.p,{children:"Take this (too) common examples:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Repetitions\nconst email = person.contact && person.contact.email;\nconst elderName = person.children && person.children[0] && person.children[0].info && person.children[0].info.name;\n\n// Intermediate assignment\nconst elder = person.children && person.children[0];\nconst elderInfo = elder && elder.info;\nconst elderName = elderInfo && elder.info.name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Not very slight, right? Sure, there are other strategies, but with ",(0,i.jsx)(n.em,{children:"optional chaining"}),", you'll be able to achieve the same behaviour doing something like:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Repetitions\nconst email = person?.contact.email;\nconst elderName = person?.children?.[0]?.info.name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Is it not sooo much better? With just a simple ",(0,i.jsx)(n.code,{children:"?."}),", you can test every level of your property access chain. This is the official proposal syntax:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"obj?.prop        // optional static property access\nobj?.[expr]      // optional dynamic property access\nfunc?.(...args)  // optional function or method call\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Finally, ",(0,i.jsx)(n.strong,{children:"it's not something completely new in programming language"}),"; ",(0,i.jsx)(n.a,{href:"https://msdn.microsoft.com/en-us/library/dn986595.aspx",children:"C#"}),", ",(0,i.jsx)(n.a,{href:"https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-ID245",children:"Swift"}),", ",(0,i.jsx)(n.a,{href:"http://coffeescript.org/#existential-operator",children:"CoffeeScript"})," and others have similar features. We just have to wait a little bit more to see it in our plain JavaScript!"]}),"\n",(0,i.jsx)(n.h2,{children:"Status"}),"\n",(0,i.jsxs)(n.p,{children:["Actually, the proposal is in ",(0,i.jsx)(n.strong,{children:"stage 2"}),". It means it already pass the ",(0,i.jsx)(n.em,{children:"proposal"})," phase and it's now in ",(0,i.jsx)(n.em,{children:"draft"}),". During this phase, the authors have to “precisely describe the syntax and semantics using formal spec language”.  They already written the ",(0,i.jsx)(n.a,{href:"https://tc39.es/proposal-optional-chaining/",children:"initial spec text"})," and there is a fully working ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining",children:"Babel plugin"}),". So we can be optimistic about an upcoming ",(0,i.jsx)(n.strong,{children:"stage 3"}),"."]}),"\n",(0,i.jsx)(n.h2,{children:"Using it now"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"Babel plugin"})," means that ",(0,i.jsx)(n.strong,{children:"you can use this feature right now"}),"! Keep in mind that this is still not a final JavaScript feature, but this way you can test the concept and send feedback to the authors."]}),"\n",(0,i.jsx)(n.p,{children:"So, first install the dependencies:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yarn add --dev @babel/cli @babel/core @babel/plugin-proposal-optional-chaining\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then, in your ",(0,i.jsx)(n.code,{children:".babelrc"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "plugins": [\n    ["@babel/plugin-proposal-optional-chaining", { "loose": false }],\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"And finally, just use your Babel to compile your *code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"./node_modules/.bin/babel src --out-dir dist\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"*Take a look at the compiled code, it's fun to see how it's translated into old ES5"})}),"\n",(0,i.jsx)(n.h2,{children:"Conclusion"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"It's coming soon and it's going to be great!"})," We can't say when it will be released, those things take time, but hopefully in 2020 if it's not in 2019. Keep in touch and try the Babel plugin in the meantime."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"Supported with"})," \uD83D\uDC9B ",(0,i.jsxs)(n.em,{children:["by ",(0,i.jsx)(n.a,{href:"https://antistatique.net",children:"Antistatique"})]})]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.jsx)(l,{...e,children:(0,i.jsx)(o,{...e})})}},62090:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(85893);t(67294);var s=t(90512),a=t(41664),r=t.n(a),l=t(68658),o=t(81612),c=e=>{let{crumbs:n}=e;return(0,i.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-6 transform md:translate-x-1 md:mb-0",children:(0,i.jsxs)("ol",{className:"inline-flex text-sm text-gray-600 lowercase md:text-lg opacity-60 hover:opacity-100 duration-500 transition-opacity transform md:-translate-x-full md:translate-y-2 md:-rotate-90 md:origin-right",children:[(0,i.jsx)("li",{children:(0,i.jsxs)(r(),{href:"/",className:"link",children:[(0,i.jsx)("span",{className:"sr-only",children:"Homepage"}),(0,i.jsx)(o.Z,{name:"tipi",className:"text-base md:text-lg"})]})}),n.map((e,n)=>{let{href:t,label:a}=e;return(0,l.Z)(t)?(0,i.jsxs)("li",{"aria-current":"page",children:[(0,i.jsx)("span",{className:"px-3","aria-hidden":!0,children:"\xb7"}),(0,i.jsx)("span",{className:(0,s.Z)("inline-block truncate",{maxWidth:250}),children:a})]},"crumb-".concat(n)):(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"px-3","aria-hidden":!0,children:"\xb7"}),(0,i.jsx)(r(),{href:t,className:"link",children:a})]},"crumb-".concat(n))})]})})}},47439:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var i=t(85893);t(67294);var s=t(47906),a=t(63595),r=t(62090),l=t(73574),o=t(29454),c=t(53659),h=t(8523),d=t(35045),p=e=>{let{children:n,meta:t}=e;return(0,i.jsxs)(c.Z,{outsideChildren:(0,i.jsx)(h.Z,{}),children:[(0,i.jsx)(d.Z,{title:t.title,description:t.description}),(0,i.jsx)(r.Z,{crumbs:[{href:"/blog",label:"Blog"},{label:t.title}]}),(0,i.jsxs)("article",{className:"w-full mx-auto mt-20 sm:w-10/12 md:w-2/3 xl:w-7/12 md:px-8",children:[(0,i.jsxs)(o.Z,{move:!1,children:[(0,i.jsx)("h1",{className:"text-3xl font-medium text-gray-900 md:text-4xl lg:text-5xl",children:t.title}),(0,i.jsx)(l.Z,{children:(0,i.jsxs)("h2",{className:"font-medium md:text-lg",children:[(0,i.jsx)("span",{children:"Yann Gouffon — "}),(0,s.WU)((0,a.D)(t.date),"PPP")]})})]}),(0,i.jsx)(o.Z,{className:"mt-16 font-serif text-lg text-gray-900 space-y-6 md:mt-14 prose-headings:pt-4 prose-p:leading-[1.618em] lg:text-xl xl:text-2xl xl:prose-p:leading-[1.618em] prose-a:text-blue prose-headings:font-sans prose-headings:font-medium prose-h2:text-[26px] xl:prose-h2:text-[28px] prose-h3:text-[19px] lg:prose-h3:text-[24px] xl:prose-h3:text-[27px] prose-h4:text-[18px] lg:prose-h4:text-[21px] xl:prose-h4:text-[25px] prose-strong:text-medium prose-ul:list-disc prose-ul:pl-3 prose-ul:space-y-3 prose-ul:leading-[1.618em] xl:prose-figure:w-[106%] xl:prose-figure:-translate-x-[2.8%] prose-figure:rounded-lg prose-figure:overflow-hidden prose-figure:my-8",children:n})]})]})}}},function(e){e.O(0,[1635,9757,3880,520,5098,7539,8523,2888,9774,179],function(){return e(e.s=27364)}),_N_E=e.O()}]);