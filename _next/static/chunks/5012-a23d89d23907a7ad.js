(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5012],{57277:function(e,t,n){e.exports=function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(){}function o(){}e=e&&e.hasOwnProperty("default")?e.default:e,o.resetWarningCache=l;var h,u,c=(h=u={exports:{}},u.exports,h.exports=function(){function e(e,t,n,i,r,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:l};return n.PropTypes=n,n}(),u.exports);function p(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function g(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function d(e){return e instanceof Date?e:new Date(e)}function f(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var y="react-calendar-heatmap-",v=function(l){var o,h;function u(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var e,t,n,r,s,l,o,h,c,g,f,y,v=arguments.length,m=Array(v),E=0;E<v;E++)m[E]=arguments[E];return y=(e=(f=i(u)).call.apply(f,[this].concat(m)))&&("object"==typeof e||"function"==typeof e)?e:a(this),h=a(y),c="getValueCache",t=function(e){return e.values.reduce(function(e,t){return e[Math.floor((d(t.date)-y.getStartDateWithEmptyDays())/864e5)]={value:t,className:y.props.classForValue(t),title:y.props.titleForValue?y.props.titleForValue(t):null,tooltipDataAttrs:y.getTooltipDataAttrsForValue(t)},e},{})},void 0===n&&(n=p),l=[],o=!1,g=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return o&&r===this&&n(e,l)||(s=t.apply(this,e),o=!0,r=this,l=e),s},c in h?Object.defineProperty(h,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[c]=g,y}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(u,l),o=[{key:"getDateDifferenceInDays",value:function(){var e=this.props,t=e.startDate,n=e.numDays;return n?(console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),n):Math.ceil((this.getEndDate()-d(t))/864e5)}},{key:"getSquareSizeWithGutter",value:function(){return 10+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?14:28:0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:15:0}},{key:"getStartDate",value:function(){return g(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){var e;return new Date((e=d(this.props.endDate)).getFullYear(),e.getMonth(),e.getDate())}},{key:"getStartDateWithEmptyDays",value:function(){return g(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return 6-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){return Math.ceil((this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd())/7)}},{key:"getWeekWidth",value:function(){return 7*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].value:null}},{key:"getClassNameForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(e){var t=this.props.tooltipDataAttrs;return"function"==typeof t?t(e):t}},{key:"getTransformForWeek",value:function(e){return this.props.horizontal?"translate(".concat(e*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(e*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(10,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+4,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(e){return this.props.horizontal?[0,e*this.getSquareSizeWithGutter()]:[e*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(e){return this.props.horizontal?[0,(e+1)*10+e*this.props.gutterSize]:[10*e+e*this.props.gutterSize,10]}},{key:"getMonthLabelCoordinates",value:function(e){return this.props.horizontal?[e*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-4]:[0,(e+1)*this.getSquareSizeWithGutter()+-2]}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"handleMouseOver",value:function(e,t){this.props.onMouseOver&&this.props.onMouseOver(e,t)}},{key:"handleMouseLeave",value:function(e,t){this.props.onMouseLeave&&this.props.onMouseLeave(e,t)}},{key:"renderSquare",value:function(t,i){var r=this;if((i<this.getNumEmptyDaysAtStart()||i>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays())&&!this.props.showOutOfRangeDays)return null;var a=s(this.getSquareCoordinates(t),2),l=a[0],o=a[1],h=this.getValueForIndex(i),u=e.createElement("rect",n({key:i,width:10,height:10,x:l,y:o,className:this.getClassNameForIndex(i),onClick:function(){return r.handleClick(h)},onMouseOver:function(e){return r.handleMouseOver(e,h)},onMouseLeave:function(e){return r.handleMouseLeave(e,h)}},this.getTooltipDataAttrsForIndex(i)),e.createElement("title",null,this.getTitleForIndex(i))),c=this.props.transformDayElement;return c?c(u,h,i):u}},{key:"renderWeek",value:function(t){var n=this;return e.createElement("g",{key:t,transform:this.getTransformForWeek(t),className:"".concat(y,"week")},f(7).map(function(e){return n.renderSquare(e,7*t+e)}))}},{key:"renderAllWeeks",value:function(){var e=this;return f(this.getWeekCount()).map(function(t){return e.renderWeek(t)})}},{key:"renderMonthLabels",value:function(){var t=this;return this.props.showMonthLabels?f(this.getWeekCount()-1).map(function(n){var i=g(t.getStartDateWithEmptyDays(),(n+1)*7),r=s(t.getMonthLabelCoordinates(n),2),a=r[0],l=r[1];return i.getDate()>=1&&7>=i.getDate()?e.createElement("text",{key:n,x:a,y:l,className:"".concat(y,"month-label")},t.props.monthLabels[i.getMonth()]):null}):null}},{key:"renderWeekdayLabels",value:function(){var t=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(n,i){var r=s(t.getWeekdayLabelCoordinates(i),2),a=r[0],l=r[1],o="".concat(t.props.horizontal?"":"".concat(y,"small-text")," ").concat(y,"weekday-label");return 1&i?e.createElement("text",{key:"".concat(a).concat(l),x:a,y:l,className:o},n):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),e.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},e.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(y,"month-labels")},this.renderMonthLabels()),e.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(y,"all-weeks")},this.renderAllWeeks()),e.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(y,"weekday-labels")},this.renderWeekdayLabels()))}}],t(u.prototype,o),h&&t(u,h),u}(e.Component);return v.propTypes={values:c.arrayOf(c.shape({date:c.oneOfType([c.string,c.number,c.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:c.number,startDate:c.oneOfType([c.string,c.number,c.instanceOf(Date)]),endDate:c.oneOfType([c.string,c.number,c.instanceOf(Date)]),gutterSize:c.number,horizontal:c.bool,showMonthLabels:c.bool,showWeekdayLabels:c.bool,showOutOfRangeDays:c.bool,tooltipDataAttrs:c.oneOfType([c.object,c.func]),titleForValue:c.func,classForValue:c.func,monthLabels:c.arrayOf(c.string),weekdayLabels:c.arrayOf(c.string),onClick:c.func,onMouseOver:c.func,onMouseLeave:c.func,transformDayElement:c.func},v.defaultProps={numDays:null,startDate:g(new Date,-200),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(e){return e?"color-filled":"color-empty"},monthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdayLabels:["","Mon","","Wed","","Fri",""],onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null},v}(n(67294))},9446:function(e,t,n){!function(e,t){"use strict";function n(e){return e*Math.PI/180}function i(e,t){var i=n(e);return{dx:t*Math.cos(i),dy:t*Math.sin(i)}}function r(e){return"number"==typeof e}function a(e,t){return"function"==typeof e?e(t):e}function s(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function l(e){var n=e.renderLabel,i=e.labelProps,r=n(i);if("string"==typeof r||"number"==typeof r){i.dataEntry,i.dataIndex;var a=s(i,["dataEntry","dataIndex"]);return t.createElement("text",Object.assign({dominantBaseline:"central"},a),r)}return t.isValidElement(r)?r:null}var o=function(e,t,n,i,r){var a=r-i;return 0===a?[]:[["M",n*Math.cos(i)+e,n*Math.sin(i)+t],["A",n,n,0,Math.abs(a)<=Math.PI?"0":"1",a<0?"0":"1",n*Math.cos(r)+e,n*Math.sin(r)+t]]};function h(e){var a,l,h,u=e.cx,c=e.cy,p=e.lengthAngle,g=e.lineWidth,d=e.radius,f=e.shift,y=e.reveal,v=e.rounded,m=e.startAngle,E=e.title,w=s(e,["cx","cy","lengthAngle","lineWidth","radius","shift","reveal","rounded","startAngle","title"]),b=d-g/2,A=i(m+p/2,void 0===f?0:f),k=A.dx,M=A.dy,D=(a=p>359.999?359.999:p<-359.999?-359.999:p,o(u+k,c+M,b,n(m),n(m+a)).map(function(e){return e.join(" ")}).join(" "));return r(y)&&(h=(l=Math.abs(n(b)*p))-y/100*l),t.createElement("path",Object.assign({d:D,fill:"none",strokeWidth:g,strokeDasharray:l,strokeDashoffset:h,strokeLinecap:v?"round":void 0},w),E&&t.createElement("title",null,E))}function u(e,t){return e&&function(n){e(n,t)}}var c={animationDuration:500,animationEasing:"ease-out",center:[50,50],data:[],labelPosition:50,lengthAngle:360,lineWidth:100,paddingAngle:0,radius:50,startAngle:0,viewBoxSize:[100,100]};e.PieChart=function(e){var n,s,o,p,g,d,f,y=function(e,t){var n=Object.assign({},t,e);for(var i in t)void 0===e[i]&&(n[i]=t[i]);return n}(e,c),v=t.useState(y.animate?0:null),m=v[0],E=v[1];t.useEffect(function(){y.animate&&E(null)},[]);var w=function(e){for(var t=e.data,n=e.lengthAngle,i=e.totalValue,r=e.paddingAngle,a=e.startAngle,s=i||function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].value;return t}(t),l=n>360?360:n<-360?-360:n,o=360===Math.abs(l)?t.length:t.length-1,h=Math.abs(r)*Math.sign(n),u=l-h*o,c=0,p=[],g=0;g<t.length;g++){var d=t[g],f=0===s?0:d.value/s*100,y=f/100*u,v=c+a;c=c+y+h,p.push(Object.assign({percentage:f,startAngle:v,degrees:y},d))}return p}(y);return t.createElement("svg",{viewBox:"0 0 "+y.viewBoxSize[0]+" "+y.viewBoxSize[1],width:"100%",height:"100%",className:y.className,style:y.style},(n=null!=m?m:y.animate&&!r(y.reveal)?100:y.reveal,s=y.radius,p=(o=y.center)[0],g=o[1],d=y.lineWidth/100*s,f=w.map(function(e,i){var r,l=a(y.segmentsStyle,i);return t.createElement(h,{cx:p,cy:g,key:e.key||i,lengthAngle:e.degrees,lineWidth:d,radius:s,rounded:y.rounded,reveal:n,shift:a(y.segmentsShift,i),startAngle:e.startAngle,title:e.title,style:Object.assign({},l,y.animate&&(r="stroke-dashoffset "+y.animationDuration+"ms "+y.animationEasing,l&&l.transition&&(r=r+","+l.transition),{transition:r})),stroke:e.color,tabIndex:y.segmentsTabIndex,onBlur:u(y.onBlur,i),onClick:u(y.onClick,i),onFocus:u(y.onFocus,i),onKeyDown:u(y.onKeyDown,i),onMouseOver:u(y.onMouseOver,i),onMouseOut:u(y.onMouseOut,i)})}),y.background&&f.unshift(t.createElement(h,{cx:p,cy:g,key:"bg",lengthAngle:y.lengthAngle,lineWidth:d,radius:s,rounded:y.rounded,startAngle:y.startAngle,stroke:y.background})),f),function(e,n){var r=n.label;if(r)return e.map(function(e,t){var r,s,l,o,h,u,c=null!=(u=a(n.segmentsShift,t))?u:0,p=(h=n.radius,n.labelPosition/100*h+c),g=i(e.startAngle+e.degrees/2,p),d=g.dx,f=g.dy;return{x:n.center[0],y:n.center[1],dx:d,dy:f,textAnchor:(s=(r={labelPosition:n.labelPosition,lineWidth:n.lineWidth,labelHorizontalShift:d}).labelPosition,l=r.lineWidth,0==(o=Math.round((r.labelHorizontalShift+Number.EPSILON)*1e14)/1e14)?"middle":s>100?o>0?"start":"end":s<100-l?o>0?"end":"start":"middle"),dataEntry:e,dataIndex:t,style:a(n.labelStyle,t)}}).map(function(e,n){return t.createElement(l,{key:"label-"+(e.dataEntry.key||n),renderLabel:r,labelProps:e})})}(w,y),y.children)},e.pieChartDefaultProps=c}(t,n(67294))},57107:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var i=n(32841),r=n(22181);function a(e,t){let{years:n=0,months:a=0,weeks:s=0,days:l=0,hours:o=0,minutes:h=0,seconds:u=0}=t,c=function(e,t){let n=(0,i.Q)(e);return isNaN(t)?(0,r.L)(e,NaN):(t&&n.setDate(n.getDate()+t),n)}(function(e,t){let n=(0,i.Q)(e);if(isNaN(t))return(0,r.L)(e,NaN);if(!t)return n;let a=n.getDate(),s=(0,r.L)(e,n.getTime());return(s.setMonth(n.getMonth()+t+1,0),a>=s.getDate())?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}(e,-(a+12*n)),-(l+7*s));return(0,r.L)(e,c.getTime()-1e3*(u+60*(h+60*o)))}},66825:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(67294);"function"==typeof SuppressedError&&SuppressedError;let r=(e,t,n,i)=>{e.style.transition=`${t} ${n}ms ${i}`},a=(e,t,n)=>Math.min(Math.max(e,t),n);class s{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=e=>{let{width:t,height:n}=e,i=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));return{width:i,height:i}},this.setSize=e=>{let t=this.calculateGlareSize(e);this.glareEl.style.width=`${t.width}px`,this.glareEl.style.height=`${t.height}px`},this.update=(e,t,n,i)=>{this.updateAngle(e,t.glareReverse),this.updateOpacity(e,t,n,i)},this.updateAngle=(e,t)=>{let{xPercentage:n,yPercentage:i}=e;this.glareAngle=(n?180/Math.PI*Math.atan2(i,-n):0)-(t?180:0)},this.updateOpacity=(e,t,n,i)=>{let{xPercentage:r,yPercentage:s}=e,{glarePosition:l,glareReverse:o,glareMaxOpacity:h}=t,u=n?-1:1,c=i?-1:1,p=o?-1:1,g=0;switch(l){case"top":g=-r*u*p;break;case"right":g=s*c*p;break;case"bottom":case void 0:g=r*u*p;break;case"left":g=-s*c*p;break;case"all":g=Math.hypot(r,s)}let d=a(g,0,100);this.glareOpacity=d*h/100},this.render=e=>{let{glareColor:t}=e;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${t} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";let n=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${n.width}px`,height:`${n.height}px`};Object.assign(this.glareWrapperEl.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"}),Object.assign(this.glareEl.style,i)}}class l{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{let{xPercentage:n,yPercentage:i}=e,{tiltMaxAngleX:r,tiltMaxAngleY:a}=t;this.tiltAngleX=n*r/100,this.tiltAngleY=-(i*a/100*1)},this.updateTiltManualInput=(e,t)=>{let{tiltAngleXManual:n,tiltAngleYManual:i,tiltMaxAngleX:r,tiltMaxAngleY:a}=t;(null!==n||null!==i)&&(this.tiltAngleX=null!==n?n:0,this.tiltAngleY=null!==i?i:0,e.xPercentage=100*this.tiltAngleX/r,e.yPercentage=100*this.tiltAngleY/a)},this.updateTiltReverse=e=>{let t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{let{tiltAxis:t}=e;this.tiltAngleX=a(this.tiltAngleX,-90,90),this.tiltAngleY=a(this.tiltAngleY,-90,90),t&&(this.tiltAngleX="x"===t?this.tiltAngleX:0,this.tiltAngleY="y"===t?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{let{tiltMaxAngleX:t,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}let o=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class h extends i.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>{var e,t,n,i;return e=this,t=void 0,n=void 0,i=function*(){if(!window.DeviceOrientationEvent)return;let e=DeviceOrientationEvent.requestPermission;"function"==typeof e?"granted"===(yield e())&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},new(n||(n=Promise))(function(r,a){function s(e){try{o(i.next(e))}catch(e){a(e)}}function l(e){try{o(i.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,l)}o((i=i.apply(e,t||[])).next())})},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{let{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{let{onLeave:t}=this.props;if(this.setTransitions(),t&&t(e.type),this.props.reset){let e=new CustomEvent("autoreset");this.onMove(e)}},this.processInput=e=>{let{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":let{tiltAngleXInitial:n,tiltAngleYInitial:i,tiltMaxAngleX:r,tiltMaxAngleY:s}=this.props;this.wrapperEl.clientPosition.xPercentage=a(n/r*100,-100,100),this.wrapperEl.clientPosition.yPercentage=a(i/s*100,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;let{tiltMaxAngleX:t,tiltMaxAngleY:n}=this.props,i=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=i/n*100,this.wrapperEl.clientPosition.xPercentage=a(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=a(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{let{tiltEnable:t,flipVertically:n,flipHorizontally:i}=this.props;"autoreset"!==e&&"deviceorientation"!==e&&"propChange"!==e&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,i)},this.updateClientInput=()=>{let e,t;let{trackOnWindow:n}=this.props;if(n){let{x:n,y:i}=this.wrapperEl.clientPosition;e=i/window.innerHeight*200-100,t=n/window.innerWidth*200-100}else{let{size:{width:n,height:i,left:r,top:a},clientPosition:{x:s,y:l}}=this.wrapperEl;e=(l-a)/i*200-100,t=(s-r)/n*200-100}this.wrapperEl.clientPosition.xPercentage=a(e,-100,100),this.wrapperEl.clientPosition.yPercentage=a(t,-100,100)},this.updateFlip=()=>{let{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new l,this.initGlare(),this.addEventListeners(),"undefined"==typeof CustomEvent)return;let e=new CustomEvent("autoreset");this.mainLoop(e);let t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){let e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){let{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){let{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){let e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){let{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new s(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){let{onMove:t}=this.props;if(!t)return;let n=0,i=0;this.glare&&(n=this.glare.glareAngle,i=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:i,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){let{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){let{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){let{transitionSpeed:e,transitionEasing:t}=this.props;r(this.wrapperEl.node,"all",e,t),this.glare&&r(this.glare.glareEl,"opacity",e,t)}render(){let{children:e,className:t,style:n}=this.props;return i.createElement("div",{ref:e=>this.wrapperEl.node=e,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:n},e)}}h.defaultProps=o}}]);